<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		*{ margin: 0; padding: 0;  }
		#box{ width: 100px; height: 100px;  border: 1px solid #f00; background: #f00; position: absolute; left: 0; top: 0;  }
	</style>
</head>
<body>
	<div id="box"></div>

	<script type="text/javascript">
		window.onload=function(){
			var oBox=document.getElementById('box');


			//拖拽
			var disX=0;
			var disY=0;
			oBox.onmousedown=function(ev){
				var oEvent=ev||event;
				disX=oEvent.clientX-oBox.offsetLeft;
				disY=oEvent.clientY-oBox.offsetTop;
				document.onmousemove=function(ev){
					var oEvent=ev||event;
					var L=oEvent.clientX-disX;
					var T=oEvent.clientY-disY;
					oBox.style.left=L+'px';
					oBox.style.top=T+'px';
				}
				document.onmouseup=function(){
					document.onmousemove=document.onmouseup=null;
				}
			}
		};

		function getPos(obj){
			var l=0,t=0;
			while(obj){
				l+=obj.offsetLeft;
				t+=obj.offsetTop;
				obj=obj.offsetParent;
			}
			return {
				left:l,
				top:t
			}
		};
	</script>
</body>
</html>